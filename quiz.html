<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>å…­å¹´ç´šæ•¸å­¸æ¸¬é©—</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; background: #f0f8ff; text-align: center; padding: 2rem; }
    .unit-button, .option, .nav-button {
      display: block;
      margin: 1rem auto;
      padding: 1rem;
      width: 80%;
      max-width: 300px;
      font-size: 1.2rem;
      border: 1px solid #4a90e2;
      border-radius: 8px;
      background: white;
      color: #4a90e2;
      cursor: pointer;
    }
    .unit-button:hover, .nav-button:hover { background: #4a90e2; color: white; }
    .hidden { display: none; }
  </style>
</head>
<body>

<h1>ğŸ¯ é¸æ“‡è¦æ¸¬é©—çš„å–®å…ƒ</h1>

<div id="unit-selection">
  <button class="unit-button" onclick="startQuiz('åˆ†æ•¸èˆ‡å°æ•¸')">åˆ†æ•¸èˆ‡å°æ•¸</button>
  <button class="unit-button" onclick="startQuiz('ç™¾åˆ†æ¯”')">ç™¾åˆ†æ¯”</button>
  <button class="unit-button" onclick="startQuiz('é¢ç©å…¬å¼')">é¢ç©å…¬å¼</button>
  <button class="unit-button" onclick="startQuiz('åœ“å½¢å…¬å¼')">åœ“å½¢å…¬å¼</button>
  <button class="unit-button" onclick="startQuiz('æ¯”ä¾‹')">æ¯”ä¾‹</button>
  <button class="unit-button" onclick="startQuiz('è³‡æ–™çµ±è¨ˆ')">è³‡æ–™çµ±è¨ˆ</button>
</div>

<div id="quiz" class="hidden">
  <h2 id="question-text"></h2>
  <div id="options"></div>
  <div id="result" style="margin:1rem;font-weight:bold;"></div>
  <p>å¾—åˆ†ï¼š<span id="score">0</span> / <span id="total">0</span></p>
  <button class="nav-button" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ</button>
  <button class="nav-button" onclick="restart()">é‡æ–°é¸å–®å…ƒ</button>
</div>

<script>
const allQuestions = {
  "åˆ†æ•¸èˆ‡å°æ•¸": [
    { q: "1/2è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.5", "0.25", "0.75"], answer: "0.5" },
    { q: "1/4è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.25", "0.5", "0.75"], answer: "0.25" },
    { q: "3/4è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.75", "0.5", "1.0"], answer: "0.75" },
    { q: "2/5è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.4", "0.5", "0.8"], answer: "0.4" },
    { q: "4/5è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.8", "0.5", "0.75"], answer: "0.8" },
    { q: "1/5è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.2", "0.5", "0.8"], answer: "0.2" },
    { q: "3/5è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.6", "0.5", "0.8"], answer: "0.6" }
  ],
  "ç™¾åˆ†æ¯”": [
    { q: "50%è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.25", "0.5", "0.75"], answer: "0.5" },
    { q: "25%è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.25", "0.4", "0.6"], answer: "0.25" },
    { q: "10%è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.1", "0.01", "0.5"], answer: "0.1" },
    { q: "75%è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.5", "0.75", "1.0"], answer: "0.75" },
    { q: "5%è®Šæˆå°æ•¸æ˜¯å¤šå°‘ï¼Ÿ", options: ["0.05", "0.5", "0.25"], answer: "0.05" },
    { q: "100%æ˜¯å°æ•¸å¤šå°‘ï¼Ÿ", options: ["1", "0.5", "2"], answer: "1" }
  ],
  "é¢ç©å…¬å¼": [
    { q: "é•·æ–¹å½¢çš„é¢ç©å…¬å¼æ˜¯ï¼Ÿ", options: ["é•·Ã—å¯¬", "é•·+å¯¬", "é‚Šé•·Ã—é‚Šé•·"], answer: "é•·Ã—å¯¬" },
    { q: "æ­£æ–¹å½¢çš„é¢ç©å…¬å¼æ˜¯ï¼Ÿ", options: ["é‚Šé•·Ã—é‚Šé•·", "åº•Ã—é«˜", "åº•Ã—é«˜Ã·2"], answer: "é‚Šé•·Ã—é‚Šé•·" },
    { q: "ä¸‰è§’å½¢çš„é¢ç©å…¬å¼æ˜¯ï¼Ÿ", options: ["åº•Ã—é«˜Ã·2", "åº•Ã—é«˜", "é‚Šé•·Ã—é‚Šé•·"], answer: "åº•Ã—é«˜Ã·2" },
    { q: "å¹³è¡Œå››é‚Šå½¢çš„é¢ç©å…¬å¼æ˜¯ï¼Ÿ", options: ["åº•Ã—é«˜", "é•·Ã—å¯¬", "é‚Šé•·Ã—é‚Šé•·"], answer: "åº•Ã—é«˜" },
    { q: "æ¢¯å½¢çš„é¢ç©å…¬å¼æ˜¯ï¼Ÿ", options: ["(ä¸Šåº•+ä¸‹åº•)Ã—é«˜Ã·2", "åº•Ã—é«˜Ã·2", "é‚Šé•·Ã—é‚Šé•·"], answer: "(ä¸Šåº•+ä¸‹åº•)Ã—é«˜Ã·2" }
  ],
  "åœ“å½¢å…¬å¼": [
    { q: "åœ“çš„é¢ç©å…¬å¼æ˜¯ï¼Ÿ", options: ["åŠå¾‘Ã—åŠå¾‘Ã—3.14", "åŠå¾‘Ã—2", "ç›´å¾‘Ã—2"], answer: "åŠå¾‘Ã—åŠå¾‘Ã—3.14" },
    { q: "åœ“çš„å‘¨é•·å…¬å¼æ˜¯ï¼Ÿ", options: ["ç›´å¾‘Ã—3.14", "åŠå¾‘Ã—3.14", "åŠå¾‘+åŠå¾‘"], answer: "ç›´å¾‘Ã—3.14" },
    { q: "ç›´å¾‘æ˜¯åŠå¾‘çš„å¹¾å€ï¼Ÿ", options: ["2å€", "3å€", "1å€"], answer: "2å€" },
    { q: "åŠå¾‘æ˜¯ç›´å¾‘çš„å¹¾åˆ†ä¹‹å¹¾ï¼Ÿ", options: ["äºŒåˆ†ä¹‹ä¸€", "ä¸‰åˆ†ä¹‹ä¸€", "å››åˆ†ä¹‹ä¸€"], answer: "äºŒåˆ†ä¹‹ä¸€" },
    { q: "åŠå¾‘5å…¬åˆ†ï¼Œåœ“é¢ç©ç´„æ˜¯å¤šå°‘ï¼Ÿ", options: ["78.5å¹³æ–¹å…¬åˆ†", "25å¹³æ–¹å…¬åˆ†", "31.4å¹³æ–¹å…¬åˆ†"], answer: "78.5å¹³æ–¹å…¬åˆ†" }
  ],
  "æ¯”ä¾‹": [
    { q: "2:3æ”¾å¤§2å€æ˜¯å¤šå°‘ï¼Ÿ", options: ["4:6", "2:3", "6:9"], answer: "4:6" },
    { q: "6:9ç°¡åŒ–å¾Œæ˜¯å¤šå°‘ï¼Ÿ", options: ["2:3", "3:5", "1:2"], answer: "2:3" },
    { q: "4:8ç°¡åŒ–å¾Œæ˜¯å¤šå°‘ï¼Ÿ", options: ["1:2", "2:3", "2:1"], answer: "1:2" },
    { q: "8:4ç°¡åŒ–å¾Œæ˜¯å¤šå°‘ï¼Ÿ", options: ["2:1", "1:2", "4:8"], answer: "2:1" },
    { q: "3:6=ï¼Ÿ:2", options: ["1", "2", "3"], answer: "1" }
  ],
  "è³‡æ–™çµ±è¨ˆ": [
    { q: "é•·æ¢åœ–é©åˆçœ‹ä»€éº¼ï¼Ÿ", options: ["æ¯”è¼ƒæ•¸é‡", "çœ‹æ™‚é–“è®ŠåŒ–", "çœ‹æ¯”ä¾‹"], answer: "æ¯”è¼ƒæ•¸é‡" },
    { q: "åœ“é¤…åœ–é©åˆçœ‹ä»€éº¼ï¼Ÿ", options: ["çœ‹æ¯”ä¾‹", "çœ‹é«˜ä½", "çœ‹æ™‚é–“"], answer: "çœ‹æ¯”ä¾‹" },
    { q: "æŠ˜ç·šåœ–é©åˆçœ‹ä»€éº¼ï¼Ÿ", options: ["çœ‹è®ŠåŒ–è¶¨å‹¢", "çœ‹æ¯”ä¾‹", "çœ‹æ•¸é‡"], answer: "çœ‹è®ŠåŒ–è¶¨å‹¢" },
    { q: "çµ±è¨ˆåœ–è¡¨å¯ä»¥è®“æˆ‘å€‘ï¼Ÿ", options: ["æ›´æ¸…æ¥šè³‡æ–™", "æ•¸å­—è®Šå¤š", "é¡è‰²è®Šå°‘"], answer: "æ›´æ¸…æ¥šè³‡æ–™" },
    { q: "ä»€éº¼åœ–é©åˆçœ‹æ•´é«”ä¸­å„éƒ¨åˆ†æ¯”ä¾‹ï¼Ÿ", options: ["åœ“é¤…åœ–", "é•·æ¢åœ–", "æŠ˜ç·šåœ–"], answer: "åœ“é¤…åœ–" }
  ]
};

let selectedQuestions = [];
let currentIndex = 0;
let score = 0;
let hasAnswered = false;

function startQuiz(unit) {
  document.getElementById("unit-selection").classList.add("hidden");
  document.getElementById("quiz").classList.remove("hidden");
  selectedQuestions = shuffleArray([...allQuestions[unit]]).slice(0, 15);
  currentIndex = 0;
  score = 0;
  document.getElementById("score").textContent = score;
  document.getElementById("total").textContent = selectedQuestions.length;
  showQuestion();
}

function showQuestion() {
  const q = selectedQuestions[currentIndex];
  document.getElementById("question-text").textContent = q.q;
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";
  document.getElementById("result").textContent = "";
  hasAnswered = false;

  shuffleArray(q.options).forEach(opt => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(btn, opt, q.answer);
    optionsDiv.appendChild(btn);
  });
}

function checkAnswer(button, choice, correct) {
  if (hasAnswered) return;
  hasAnswered = true;
  const result = document.getElementById("result");
  const allOptions = document.querySelectorAll(".option");
  allOptions.forEach(btn => btn.disabled = true);

  if (choice === correct) {
    score++;
    document.getElementById("score").textContent = score;
    result.textContent = "âœ… ç­”å°äº†ï¼";
    result.style.color = "green";
  } else {
    result.innerHTML = `âŒ éŒ¯äº†ï¼<br>æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š<b>${correct}</b>`;
    result.style.color = "red";
  }
}

function nextQuestion() {
  if (!hasAnswered) return alert("è«‹å…ˆä½œç­”ï¼");
  currentIndex++;
  if (currentIndex < selectedQuestions.length) {
    showQuestion();
  } else {
    let message = score >= selectedQuestions.length * 0.8 ? "ğŸ‰ å¾ˆæ£’å–”ï¼" : "ğŸ’ª åŠ æ²¹ï¼Œä¸‹æ¬¡æ›´å¥½ï¼";
    alert("æ¸¬é©—çµæŸï¼å¾—åˆ†ï¼š" + score + "/" + selectedQuestions.length + "\\n" + message);
    restart();
  }
}

function restart() {
  document.getElementById("quiz").classList.add("hidden");
  document.getElementById("unit-selection").classList.remove("hidden");
}

function shuffleArray(array) {
  return array.sort(() => Math.random() - 0.5);
}
</script>

</body>
</html>
